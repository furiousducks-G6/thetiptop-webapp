<div class="container mx-auto px-4 py-8">
    <div class="bg-white p-4 rounded-lg shadow-lg border border-gray-200 mb-8">
        <h1 class="text-3xl font-bold text-[#388E3C]">Tickets</h1>
      </div>
    
    <div class="mb-4">
      <input 
        type="text" 
        placeholder="Rechercher par numéro de ticket ou Lot ID..." 
        [(ngModel)]="searchTerm" 
        class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#388E3C]"
      >
    </div>
  
    <div class="overflow-x-auto">
      <table class="table-auto w-full mb-4 border-collapse">
        <thead>
          <tr>
            <th class="px-4 py-2 bg-[#D9EAD3] text-[#388E3C] border">Lot ID</th>
            <th class="px-4 py-2 bg-[#D9EAD3] text-[#388E3C] border">Numéro Ticket</th>
            <th class="px-4 py-2 bg-[#D9EAD3] text-[#388E3C] border">Statut</th>
            <th class="px-4 py-2 bg-[#D9EAD3] text-[#388E3C] border">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ticket of filteredTickets()">
            <td class="border px-4 py-2 text-center">{{ ticket.lotID }}</td>
            <td class="border px-4 py-2 text-center">{{ ticket.code }}</td>
            <td class="border px-4 py-2 text-center">{{ ticket.is_claimed ? 'Validé' : 'Non Validé' }}</td>
            <td class="border px-4 py-2 text-center">
              <div class="flex justify-center space-x-2">
                <button (click)="printTicket(ticket)" class="bg-[#D9EAD3] text-black font-bold py-1 px-3 rounded-lg hover:bg-[#388E3C] focus:outline-none focus:ring-2 focus:ring-[#388E3C] focus:ring-opacity-50 shadow-md">
                  Imprimer
                </button>
                <button (click)="exportTicket(ticket)" class="border-2 border-[#D9EAD3] text-[#000000] font-bold py-1 px-3 rounded-lg hover:bg-[#D9EAD3] focus:outline-none focus:ring-2 focus:ring-[#388E3C] focus:ring-opacity-50 shadow-md">
                  Exporter
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  
    <div class="flex justify-between items-center">
      <div>
        <label for="itemsPerPage" class="mr-2">Items par page:</label>
        <select id="itemsPerPage" [(ngModel)]="itemsPerPage" (ngModelChange)="calculatePagination()" class="p-2 border border-gray-300 rounded">
          <option *ngFor="let option of [5, 10, 20, 50]" [value]="option">{{ option }}</option>
        </select>
      </div>
  
      <ul class="flex">
        <li *ngFor="let page of pages" class="mx-1">
          <button (click)="goToPage(page)" 
                  class="px-3 py-2 border rounded-lg"
                  [class.bg-[#388E3C]]="page === currentPage"
                  [class.text-white]="page === currentPage">
            {{ page }}
          </button>
        </li>
      </ul>
    </div>
  </div>
  